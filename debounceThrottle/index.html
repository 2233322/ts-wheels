<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="https://www.baidu.com/favicon.ico" type="image/x-icon" />
  <title>debounceThrottle</title>
</head>
<body>
  <input class="input" type="text">
</body>
<style>
body{
  height: 5000px;
}</style>
<script>
  let input = document.querySelector('.input');

  function debounce(fn){
    let timer = null;
    return function() {
      clearTimeout(timer)
      timer = setTimeout(
        () => fn.apply(this, arguments),
        1500
      )
    }
  }

  function sayHi(s){
    console.log('ok', s)
  }


  addEventListener('input', debounce(sayHi));

  function throttle(fn) {
    let canrun = true;
    return function() {
      if (!canrun) return;
      canrun = false;
      timer = setTimeout(
        () => {
          fn.apply(this, arguments),
          canrun = true;
        },
        1500
      )
    }
  }

  addEventListener('scroll', throttle(() => sayHi('key')))
</script>
</html>